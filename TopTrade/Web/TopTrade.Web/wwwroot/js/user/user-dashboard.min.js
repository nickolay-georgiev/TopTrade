function showRemoveStockButton(n){if(n.target.tagName.toLowerCase()==="i"&&n.target.childElementCount>0){[...n.target.children].forEach(n=>n.remove());return}if(n.target.tagName.toLowerCase()!=="div"){const t=document.createElement("div");t.classList.add("remove-stock-div");const i=document.createElement("span");i.textContent="Remove";t.appendChild(i);n.target.appendChild(t);t.addEventListener("click",removeStockButton)}}function removeStockButton(){this.parentElement.parentElement.parentElement.remove()}function configureOrder(n){let t;const r=document.querySelector(".input-stock-price"),u=document.querySelector(".total-amount"),f=document.querySelector(".stock-quantity"),e=document.querySelector(".stock-ticker").textContent,o=document.querySelector(".stock-name").textContent,s=document.querySelector(".company-logo").src,h=document.querySelector(".order-stock-name");h.textContent=o;let i;n.target.classList.contains("configure-order-button")?(n.preventDefault(),i=n.target.textContent[0].toLowerCase(),t=Number(document.querySelector(".price").textContent)):(i=n.target.previousElementSibling.firstElementChild.textContent,t=t=Number(n.target.textContent));i.toLowerCase()=="b"?([...document.querySelectorAll(".order-type")].forEach(n=>{n.textContent="buy"}),document.querySelector(".order-buy-btn").classList.add("active"),document.querySelector(".order-sell-btn").classList.remove("active")):([...document.querySelectorAll(".order-type")].forEach(n=>{n.textContent="sell"}),document.querySelector(".order-sell-btn").classList.add("active"),document.querySelector(".order-buy-btn").classList.remove("active"));document.querySelector(".order-company-logo").src=s;[...document.querySelectorAll(".order-stock-ticker")].forEach(n=>{n.textContent=e});f.addEventListener("input",n=>{const i=Number(n.target.value);if(!(i<0)){const r=document.querySelector(".execute-order-button");r.removeAttribute("disabled");const f=t*i;u.placeholder=`$ ${f.toFixed(2)}`;const e=document.querySelector(".order-details-price");e.textContent=`${f.toFixed(2)}`;const o=document.querySelector(".order-details-quantity");o.textContent=i;i==0&&(r.disabled=!0)}});r.placeholder=`${t.toFixed(2)}`}function makeDeposit(n){n.preventDefault();const t=document.querySelector(".deposit-amount").value.trim(),i=document.querySelector(".card-number").value,r=document.querySelector(".card-expiry-date").value,u=document.querySelector(".card-cvv-number").value,f=document.querySelector(".card-first-name").value.trim(),e=document.querySelector(".card-middle-name").value.trim(),o=document.querySelector(".card-last-name").value.trim(),s=document.querySelector("[name=__RequestVerificationToken]").value;var h={depositAmount:t,cardNumber:i,cardExpiryDate:r,cardCvvNumber:u,cardFirstName:f,cardMiddleName:e,cardLastName:o};fetch("api/deposit",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":s},body:JSON.stringify(h)}).then(n=>{console.log(n)})}document.querySelectorAll(".remove-stock-button").forEach(n=>n.addEventListener("click",showRemoveStockButton));[...document.querySelectorAll(".order-type-button")].forEach(n=>{n.addEventListener("click",configureOrder)});document.querySelector(".make-deposit-button").addEventListener("click",makeDeposit);document.querySelector(".card-number").addEventListener("input",function(){var n=this.value.split("-").join("");n.length>0&&(n=n.match(new RegExp(".{1,4}","g")).join("-"));this.value=n});document.querySelector(".card-expiry-date").addEventListener("input",function(){var n=this.value;n.length==2&&(n+=" / ");this.value=n});